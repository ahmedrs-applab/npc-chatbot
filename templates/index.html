<!DOCTYPE html>
<html>
<head>
    <title>Bot Framework Web Chat</title>
    <script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>
</head>
<body>
    <div id="webchat" role="main"></div>
    <script>
        (async function() {
            const res = await fetch('/generate_direct_line_token', { method: 'POST' });
            const { token } = await res.json();

            window.WebChat.renderWebChat({
                directLine: window.WebChat.createDirectLine({ token }),
                userID: 'user1',
                username: 'User',
                locale: 'en-US'
            }, document.getElementById('webchat'));
        })();
    </script>
</body>
</html>
